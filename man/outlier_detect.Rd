% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/outlier_detect_rewrite.R
\name{outlier_detect}
\alias{outlier_detect}
\title{BulkCAT Outlier Detection for Multiple Species (sf-based)}
\usage{
outlier_detect(
  data,
  sname = "scientificName",
  lat = "decimalLatitude",
  lon = "decimalLongitude",
  elev_dem = NULL,
  eco_shp = NULL,
  suspicion_thresh = 0.8,
  weights = c(isolation = 0.5, density = 0.3, ecoregion = 0.1, elevation = 0.2)
)
}
\arguments{
\item{data}{Data frame containing latitude and longitude columns.}

\item{sname}{Column name for species name (default: "scientificName").}

\item{lat}{Column name for latitude in decimal degrees (default: "decimalLatitude").}

\item{lon}{Column name for longitude in decimal degrees (default: "decimalLongitude").}

\item{elev_dem}{Optional file path to raster DEM. If NULL, elevation checks are skipped.}

\item{eco_shp}{Optional file path to ecoregion shapefile. If NULL, ecoregion checks are skipped.}

\item{suspicion_thresh}{Threshold for flagging a point as suspect (default: 0.8).}

\item{weights}{Named vector of weights for combining indicators
(default: c(isolation = 0.5, density = 0.3, ecoregion = 0.1, elevation = 0.2)).}
}
\value{
Data frame with original columns plus:
\item{nn_dist}{Nearest neighbor distance.}
\item{density_count}{Number of points found in specified density radius.}
\item{density_score}{Suspicion probability based on density count (0–1).}
\item{D2}{Distance to second nearest neighbor.}
\item{isolation_score}{Suspicion probability based on D2 (0-1).}
\item{eco_score}{Suspicion probability based on ecoregion (0–1).}
\item{combined_score}{Composite suspicion probability (0-1).}
\item{LEVEL3}{Level 3 EPA ecoregion ID.}
\item{elev}{Elevation in meters.}
\item{elev_score}{Suspicion probability based on elevation (0-1).}
}
\description{
Identifies potentially erroneous or suspect herbarium / observation records
for rare species while preserving multiple valid, disjunct populations.
Each species is processed independently.
}
